\section{Infrastructure Drifts}

Since the approach to code and infrastructure changes significantly with the
use of an Agile methodology, even the issues that are caused by it need to be
studied. As the infrastructure grows, service managers tend to have less and
less control on what actually happens in every single machine, since they rely
on automation to control their services. This can lead in some cases to
a phenomenon called Infrastructure Drifts.

We call \textit{Infrastructure Drift} the tendency of one or more machines
to have a different configuration compared with the majority of the
cluster. This behaviour, if not detected, might lead to dangerous and
unpredictable situations.

A drift can have different causes and it is not always easy to detect and
address, usually a manual intervention is required to solve the problem.
It is possible to define two different categories of Infrastructure
Drifts: Package and Configuration Drifts.

\subsection{Package Drifts}

A package drift happens when a machine in a cluster has different packages
compared to another, or a different version of the installed packages.
When this happens the risk is to have a cluster serving requests with two
different versions of the same software.

Ideally all the machines in a cluster should have the same package
configuration and receive updates at the same time. The idea is to start
serving the requests with a new version of the software all at the same
time. 

\subsection{Configuration Drifts}

A Configuration Drift happens when the configuration of servers becomes
more and more different as times goes on. Machine updates, manual updates
and local patches can compromise the configuration of a running system and
make it differ from what it should be. Tools like Puppet make sure than
a machine is created with a given configuration, but during its lifecycle
the server it will always tend to drift from the original configuration.

Service managers usually try to prevent this behaviour using two different
actions: running a configuration management system and doing it frequently
to keep machines updated. Otherwise they rebuild machines periodically, in
this way a machine is rebuilt before it can deviate from the mainline.
